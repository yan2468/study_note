# LINUX  USE

**常用快捷键**

1）ctrl + c：停止进程

2）ctrl+l：清屏

3）ctrl + q：退出

4）善于用tab键

5）上下键：查找执行过的命令

6）ctrl +alt：linux和Windows之间切换

# 账号管理

## 添加用户（**管理员用户**）

```
useradd 选项 用户名
```



> ### 选项 
>
> -c comment 指定一段注释性描述
>
> -d目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录
>
> -g用户组 指定用户所属的用户组
>
> -G用户组 指定用户所属的附加组
>
> -s Shell文件 指定用户的登录Shell
>
> -u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号

```
passwd 用户名
```

*添加用户时，若出现权限不足的问题。先切换为管理员账号root（su root）*

## 修改用户（**管理员用户**）

```
**usermod 选项 新用户名 旧用户名**
注意：修改名后，原文档名字不变
```

![image-20210712192317945](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712192317945.png)

## 删除用户（**管理员用户**）

删除用户账号就是要将/etc/passwd等系统文件中的该用户记录删除，必要时还删除用户的主目录。

```
**userdel 选项 用户名**
```



> 选项：
>
> -f： 强制删除用户，即使用户当前已登录
>
> -r:   删除用户的同时，删除与用户相关的所有文件



## 查看创建的用户

```
cat  /etc/passwd
```



------



## 增加用户组（**管理员用户**）

```
groupadd 选项 用户组**
```

我们把张三、李四、王五统一放到【开发组】，在对文件授权的时候，我们只对【开发组】进行授权由此，这样的话【张三、李四、王五】都有相等的权利操作了。

![image-20210712192914542](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712192914542.png)



## 修改用户组（**管理员用户**）

```
groupmod 选项 用户组

groupmod -n 新名 旧名
```

![image-20210712193118780](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712193118780.png)



## 查询用户所属组

```
groups 用户名
```

## 删除用户组（**管理员用户**）

```
groupdel 选项 用户组
```

![image-20210712193323820](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712193323820.png)



## 将用户添加到组

```
gpasswd [可选项] 组名
```

```
将用户添加到指定组
usermod -g 组名 用户
```



```
1、创建一个新的组，并添加组ID（需要切换到root用户）
groupadd -g 8888 用户组
2、创建3个用户（需要切换到root用户）
 useradd  seehopeuser1
 useradd  seehopeuser2
 useradd  seehopeuser3
3、将上面三个用户添加到组seehope2020group
gpasswd -a seehopeuser1 seehope2020group
gpasswd -a seehopeuser2 seehope2020group
gpasswd -a seehopeuser3 seehope2020group
4、查看用户组下所有用户（所有用户）
grep '用户组' /etc/group
```



## 查看创建的组

```
cat  /etc/group
```



## 设置seehope普通用户具有root权限

**修改配置文件**

修改 /etc/sudoers 文件，找到下面一行，在root下面添加一行，如下所示：

 

```
 ##  Allow root to run any commands anywhere 
 root    ALL=(ALL)   ALL 
 seehope   ALL=(ALL)   ALL  
```

修改完毕，现在可以用seehope帐号登录，然后用命令 su - ，即可获得root权限进行操作。

# 系统管理

## 日期管理（所有用户）

*当前日期如果通过date进行设置，在系统重启后不会保存date的设置，常用的只是通过date命令查看日期（date 可以用来显示或设定系统的日期与时间）*

```
date[参数选项]
```

> 参数：
>
> -d<字符串>：显示字符串所指的日期与时间。字符串前后必须加上双引号； 
>  -s<字符串>：根据字符串来设置日期与时间。字符串前后必须加上双引号； 
>  -u：显示GMT； 
>  --help：在线帮助； 
>  --version：显示版本信息

1、设置时间

​				用 -s选项可以设置系统时间，如下：date -s "2021-12-11 16:15:00"

2、显示时间

​		

```
date
```

## 查看日历



```
显示本月日历
	cal 
显示系统前一个月，当前月，下一个月的日历
	cal -3
具体某一年，显示这一年的日历。
	cal 2020
	
```



## 显示用户

*logname命令用于显示用户名称。*

```
logname [--help][--version]
```

> •      --help 在线帮助。
>
> •      --vesion 显示版本信息。



## 切换账户（所有用户）

```
su 账户名
```



## 显示ID ，是否存在用户（所有用户）

```
id [-gGnru][--help][--version][用户名称]
```

> ​    参数：
>
>  -g或--group 显示用户所属群组的ID。
>
> -G或--groups 显示用户所属附加群组的ID。
>
> -n或--name 显示用户，所属群组或附加群组的名称。
>
> -r或--real 显示实际ID。
>
> -u或--user 显示用户ID。
>
> -help 显示帮助。
>
> -version 显示版本信息。



## 执行命令（管理员）

*比如我们使用普通用户操作用户或者操作用户组、以及修改网卡配置文件的时候，需要切换到root用户才操作，此时我们可以使用sudo命令提高普通用户的操作权限，以达到操作目的*

```
sudo -V
sudo -h
sudo -l
sudo -v
sudo -k
sudo -s
sudo -H
sudo [ -b ] [ -p prompt ] [ -u username/#uid] -s
sudo command

```

> 参数：
>
> •      -V 显示版本编号
>
> •      -h 会显示版本编号及指令的使用方式说明
>
> •      -l 显示出自己（执行 sudo 的使用者）的权限
>
> •      -v 因为 sudo 在第一次执行时或是在 N 分钟内没有执行（N 预设为五）会问密码，这个参数是重新做一次确认，如果超过 N 分钟，也会问密码
>
> •      -k 将会强迫使用者在下一次执行 sudo 时问密码（不论有没有超过 N 分钟）
>
> •      -b 将要执行的指令放在背景执行
>
> •      -p prompt 可以更改问密码的提示语，其中 %u 会代换为使用者的帐号名称， %h 会显示主机名称
>
> •      -u username/#uid 不加此参数，代表要以 root 的身份执行指令，而加了此参数，可以以 username 的身份执行指令（#uid 为该 username 的使用者号码）
>
> •      -s 执行环境变数中的 SHELL 所指定的 shell ，或是 /etc/passwd 里所指定的 shell
>
> •      -H 将环境变数中的 HOME 指定为要变更身份的使用者HOME目录（如不加 -u 参数就是系统管理者 root ）
>
> •      command 要以系统管理者身份（或以 -u 更改为其他人）执行的指令



## 修改网卡配置文件

*我们使用普通用户修改网卡的配置文件，在进行保存的时候，提示我们【无法打开并写入文件】，那么此时，我们可以通过sudo命令来提升自己的写入权限*



键入vi /etc/sysconfig/network-scripts/ifcfg-ens33 

得出：

![image-20210712195151319](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712195151319.png)

那么我们在修改上面的 命令，使用sudo进行修改

sudo  vi /etc/sysconfig/network-scripts/ifcfg-ens33 

执行，键入seehope密码

执行保存就不在报错了



## 强制保存(：wq!)

### 查看目前进程动态（所有使用者）

*top命令用于实时显示 process 的动态*

> PID — 进程id
>  USER — 进程所有者
>  PR — 进程优先级
>  NI — nice值。负值表示高优先级，正值表示低优先级
>  VIRT — 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES
>  RES — 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
>  SHR — 共享内存大小，单位kb
>  S — 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程
>  %CPU — 上次更新到现在的CPU时间占用百分比
>  %MEM — 进程使用的物理内存百分比
>  TIME+ — 进程使用的CPU时间总计，单位1/100秒
>  COMMAND — 进程名称（命令名/命令行）

```
显示指定的进程信息，以下显示进程号为6972的进程信息，CPU、内存占用率等
 top -p 6972

```

## 进程信息（所有用户）

* ps命令用于显示当前进程 (process) 的状态信息*

```
显示进程信息
ps -A 
显示指定用户信息
 ps -u seehope
显示所有进程信息 
ps -ef 
查看系统中所有的进程
ps -aux
过滤掉除用户名以外的其他进程
ps -aux|grep 用户名
```

> **功能说明**
>
> ​    USER：该进程是由哪个用户产生的
>
> ​    PID：进程的ID号
>
> %CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；
>
> %MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；
>
> VSZ：该进程占用虚拟内存的大小，单位KB；
>
> RSS：该进程占用实际物理内存的大小，单位KB；
>
> TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端，tty1-tty6是本地的字符界面终端，tty7是图形终端。pts/0-255代表虚拟终端。
>
> STAT：进程状态。常见的状态有：R：运行、S：睡眠、T：停止状态、s：包含子进程、+：位于后台
>
> START：该进程的启动时间
>
> TIME：该进程占用CPU的运算时间，注意不是系统时间
>
> COMMAND：产生此进程的命令名



## 结束进程（所有用户）

*kill命令用于删除执行中的程序或工作(可强制中断)*

注意：如果结束掉登录用户，将会退出虚拟机

```
kill [-s <信息名称或编号>][程序]　或　kill [-l <信息编号>]
```

> •      -l <信息编号> 若不加<信息编号>选项，则-l参数会列出全部的信息名称。
>
> •      -s <信息名称或编号> 指定要送出的信息。
>
> •      [程序] [程序]可以是程序的PID或是PGID，也可以是工作编号。

```
杀死一个进程
 kill 15642
强制杀死进程
kill -KILL 15642
彻底杀死进程（找到进程的pid）
kill -9 15642
杀死指定用户所有进程
1.方法一 过滤出seehope用户进程 
kill -9 $(ps -ef | grep seehope) 
2.方法二，直接杀死
kill -u seehope

```

## 关机命令（管理员用户）

*shutdown命令可以用来进行关闭系统，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown 也可以用来重开机*

```
shutdown [-t seconds] [-rkhncfF] time [message]
```

> •      -t seconds : 设定在几秒钟之后进行关机程序。
>
> •      -k : 并不会真的关机，只是将警告讯息传送给所有使用者。
>
> •      -r : 关机后重新开机。
>
> •      -h : 关机后停机。
>
> •      -n : 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机。
>
> •      -c : 取消目前已经进行中的关机动作。
>
> •      -f : 关机时，不做 fcsk 动作(检查 Linux 档系统)。
>
> •      -F : 关机时，强迫进行 fsck 动作。
>
> •      time : 设定关机的时间。
>
> •      message : 传送给所有使用者的警告讯息。

```
立即关机
shutdown -h now
或者
shudown
指定1分钟后关机，1分钟关机并显示警告信息
shutdown +1 “System will shutdown after 1 minutes” 
指定1分钟后重启，并发出警告信息
shutdown –r +1 “1分钟后关机重启”

```

## 重启命令（管理员、普通（需要验证）用户）

*reboot命令用于用来重新启动计算机*

```
reboot [-n] [-w] [-d] [-f] [-i]
```

> •      -n : 在重开机前不做将记忆体资料写回硬盘的动作
>
> •      -w : 并不会真的重开机，只是把记录写到 /var/log/wtmp 档案里
>
> •      -d : 不把记录写到 /var/log/wtmp 档案里（-n 这个参数包含了 -d）
>
> •      -f : 强迫重开机，不呼叫 shutdown 这个指令
>
> •      -i : 在重开机之前先把所有网络相关的装置先停止

👇在重启的时候如果有使用者在使用就不会重启，所以在重启之前需要检测下有没有终端在连接（处理程序）👇

## 系统中有多少使用者在使用（所有使用者）

*who命令用于显示系统中有哪些使用者正在上面，显示的资料包含了使用者 ID、使用的终端机、从哪边连上来的、上线时间、呆滞时间、CPU 使用量、动作等等*

```
who - [husfV] [user]
```

> •      -H 或 --heading：显示各栏位的标题信息列；
>
> •      -i 或 -u 或 --idle：显示闲置时间，若该用户在前一分钟之内有进行任何动作，将标示成"."号，如果该用户已超过24小时没有任何动作，则标示出"old"字符串；
>
> •      -m：此参数的效果和指定"am i"字符串相同；
>
> •      -q 或--count：只显示登入系统的帐号名称和总人数；
>
> •      -s：此参数将忽略不予处理，仅负责解决who指令其他版本的兼容性问题；
>
> •      -w 或-T或--mesg或--message或--writable：显示用户的信息状态栏；
>
> •      --help：在线帮助；
>
> •      --version：显示版本信息

```
显示当前登录系统的用户
who
显示明细(标题)信息
who -H
显示自身用户名称
whoami
显示登录用户的用户名
who am i
看当前有哪些用户登录到了本台
who
```

## 控制系统时间和日期(所有使用者都可使用，设置时间需要管理员)

*timedatectl是用于控制系统时间和日期。可以用来查询和更改系统时钟于设定，同时可以设定和修改时区信息。*

```
显示系统的当前时间和日期，使用命令行中的timedatectl命令
timedatectl status
查看当前时区
timedatectl | grep Time
或者
timedatectl 
执行，显示中国时区
查看所有可用的时区
timedatectl list-timezones
设置本地时区
timedatectl set-timezone "Asia/Shanghai"
禁用时间同步（使用管理员账户）
timedatectl set-ntp false
再执行
timedatectl set-time "2021-03-11 20:45:00"

如果ntp时间同步为true时无法修改时间设定，下面马上介绍👇

打开ntp
timedatectl set-ntp true
在执行
timedatectl set-time "2021-03-11 20:45:00"
执行效果如下（ntp时间同步为true时无法修改时间设定）

 
启用时间同步
NTP即Network Time Protocol（网络时间协议），是一个互联网协议，用于同步计算机之间的系统时钟。timedatectl实用程序可以自动同步你的Linux系统时钟到使用NTP的远程服务器。
要开始自动时间同步到远程NTP服务器，在终端键入以下命令。
timedatectl set-ntp true
timedatectl set-ntp true
比如，在上面我们使用timedatectl set-time "2019-03-11 20:45:00"，如下图
 
此时我们执行timedatectl set-ntp true，发现时间正常同步过来了如下图
 
要禁用NTP时间同步，在终端键入以下命令
timedatectl set-ntp false
执行上面的 命令即可关闭ntp

```

## 清除屏幕（所有使用者）

*clear命令用于清除屏幕*

## 退出目前的shell

*exit命令用于退出目前的shell。*

执行exit可使shell以指定的状态值退出。若不设置状态值参数，则shell以预设值退出。状态值0代表执行成功，其他值代表执行失败。exit也可用在script，离开正在执行的script，回到shell。

退出码（exit status，或exit code）的约定：

 0表示成功（Zero - Success）

 非0表示失败（Non-Zero - Failure）

 2表示用法不当（Incorrect Usage）

 127表示命令没有找到（Command Not Found）

 126表示不是可执行的（Not an executable）

 \>=128 信号产生

**语法如下**

exit [状态值]



![image-20210713103852448](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210713103852448.png)



## 查看创建了哪些用户

```
cat /etc/passwd
```

## **显示网络统计信息**

```
 netstat 选项
```

>  选项：
>
> ​    -an 按一定顺序排列输出
>
> ​    -p 表示显示哪个进程在调用
>
> ​    -nltp 查看tcp协议进程端口号

# Linux 文件与目录管理

## **自动补全**

•      在敲出 文件/ 目录 / 命令 的前几个字母之后, 按下 tab键

•      如果还存在其他 文件 / 目录 / 命令, 再按一下tab键, 系统会提示可能存在的命令



## 列出目录（所有使用者）

```
ls [选项]  目录名称
```

> 参数：
>
> •      -a ：全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)
>
> •      -d ：仅列出目录本身，而不是列出目录内的文件数据(常用)
>
> •      -l ：长数据串列出，包含文件的属性与权限等等数据；(常用)

```
将根目录（~）下的所有文件列出来(含属性与隐藏档)
 ls -al ~

```



<img src="C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210712201200042.png" alt="image-20210712201200042" style="zoom:80%;" />

•      权限（A区域）, 第一个字符如果是 d 表示目录

•     硬链接数（B区域）, 通俗的讲就是有多少种方式, 可以访问当前目录和文件

•    属主（C区域）, 文件是所有者、或是叫做属主

•      属组（D区域）, 文件属于哪个组

•   大小（E区域）：文件大小

•      时间（F区域）：最后一次访问时间

•      名称（G区域）文件的名称

## **查看文件内容**

*命令more可查看文件内容，一页一页的显示文件内容*

```
more 要查看的文件
```

> 功能使用说明
>
> 空白键 (space)：代表向下翻一页；
>
> Enter:代表向下翻『一行』；
>
> q:代表立刻离开 more ，不再显示该文件内容。
>
> Ctrl+F 向下滚动一屏
>
> Ctrl+B 返回上一屏
>
> = 输出当前行的行号
>
> :f 输出文件名和当前行的行号

**less** 的作用与 more 十分相似，都可以用来浏览文字档案的内容，不同的是 less 允许使用[pageup] [pagedown]往回滚动。*

```
 less 要查看的文件
```

> 功能使用说明
>
> 空白键  ：向下翻动一页；
>
> [pagedown]：向下翻动一页；
>
> [pageup] ：向上翻动一页；
>
> /字串  ：向下搜寻『字串』的功能；n：向下查找；N：向上查找；
>
> ?字串  ：向上搜寻『字串』的功能；n：向上查找；N：向下查找；
>
> q     ：离开 less 这个程序；

**head**的作用查看文件内容，只看头几行。

```
head -n 10 文件      （功能描述：查看文件头10行内容，10可以是任意行数）
```

**tail**查看文件内容，只看尾巴几行。

```
1）tail  -n 10 文件        （功能描述：查看文件头10行内容，10可以是任意行数）
（2）tail  –f  文件            （功能描述：实时追踪该文档的所有更新）
	
```



## 显示当前所在路径（所有使用者）

*执行pwd命令相当于我们在Windows系统路径导航栏中查看到的当前浏览位置信息*

```
查看当前所在目录
pwd -P
```

## 打开其他目录（所有使用者）

```
cd [相对路径或绝对路径]

cd ~或者cd         （功能描述：回到自己的家目录）
cd -                     （功能描述：回到上一次所在目录）
cd ..                    （功能描述：回到当前目录的上一级目录）
cd -P                  （功能描述：跳转到实际物理路径，而非快捷方式路径）
cd / 回到根目录
```



### •      **绝对路径：**

 路径的写法，由根目录 / 写起，例如： /usr/share/doc 这个目录。

### •      **相对路径：**

 路径的写法，不是由 / 写起，表示相对 当前目录 所在的目录位置。例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： cd ../man 这就是相对路径的写法啦！



```
cd ~ 表示进入用户主目录
cd / 表示回到根目录
cd /home 表示去到用户目录
cd -回到上次去的路径
cd ..返回上级目录
```

## 创建目录（于目前目录有适当权限的所有使用者）

*mkdir命令相当于我们在Windows中通过鼠标或者快捷键新建文件夹*

```
mkdir [-p] dirName
```

> •      -p 确保目录名称存在，不存在的就建一个

```
在工作目录下的 aaa目录中，建立一个名为 bbb的子目录。 若 aaa目录原本不存在，则建立一个。（注：本例若不加 -p，且原本 aaa目录不存在，则产生错误。）
mkdir -p aaa/bbb

```

可用tree命令以树型结构表示目录结构

## **删空的目录**（于目前目录有适当权限的所有使用者）

*rmdir命令相当于我们在Windows中通过鼠标或者快捷键删除文件夹。*

```
rmdir [-p] dirName
```

> •      -p 是当子目录被删除后使它也成为空目录的话，则顺便一并删除。

```
在工作目录下的 aaa目录中，删除名为 bbb的子目录。若 bbb删除后，aaa目录成为空目录，则 aaa同时也会被删除
rmdir  -p aaa/bbb

```

## 文件复制（于目前目录有适当权限的所有使用者）

*cp命令相当于我们在Windows中通过鼠标或者快捷键复制文件或者目录*

```
cp [options] source dest
或
cp [options] source... directory

```

> •      -a：此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpR参数组合。
>
> •      -d：复制时保留链接。这里所说的链接相当于Windows系统中的快捷方式。
>
> •      -f：覆盖已经存在的目标文件而不给出提示。
>
> •      -i：与-f选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答"y"时目标文件将被覆盖。
>
> •      -p：除复制文件的内容外，还把修改时间和访问权限也复制到新文件中。
>
> •      -r/R：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。
>
> •      -l：不复制文件，只是生成链接文件。

## 删除目录（于目前目录有适当权限的所有使用者）

*rm命令相当于我们在Windows中通过鼠标或者快捷键删除文件或者目录*

```
rm [options] name...
```

> •      -i 删除前逐一询问确认。
>
> •      -f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
>
> •      -r 将目录及以下之档案亦逐一删除。全部删

```
如果我们要删除文件可以直接使用rm命令，若删除目录则必须配合选项"-r"
rm -r  ccc
```

## 移动文件（于目前目录有适当权限的所有使用者）

*mv命令相当于我们在Windows中通过鼠标或者快捷键剪切（+重命名）+粘贴文件或者目录*

```
mv [options] source dest
mv [options] source... directory

```

> •      -i: 若指定目录已有同名文件，则先询问是否覆盖旧文件;
>
> •      -f: 在 mv 操作要覆盖某已有的目标文件时不给任何指示;

```
mv  文件名  文件名      |将源文件名改为目标文件名（重命名）
mv  文件名  目录名	  |将文件移动到目标目录
mv  目录名  目录名      |目标目录已存在，将源目录移动到目标目录；目标目录不存在则改名（重命名）
mv  目录名  文件名	  |出错
```

## 创建文件



```
touch 文件名
```

## 删除文件（root，文件创建者）

```
可以直接删除满的或者空的文件
rm -rf 文件名

```



## 搜索查找

### 文件内查找内容

在文件内 esc 后单击/后加要找的内容

###  找文件

```
find [搜索范围] [匹配条件]

（1）按文件名：根据名称查找/opt目录下的filename.txt文件。
[root@hadoop106 ~]# find /opt/ -name *.txt
（2）按拥有者：查找/opt目录下，用户名称为-user的文件
[root@hadoop106 ~]# find /opt/ -user seehope
（3）按文件大小：在/home目录下查找大于200m的文件（+n 大于  -n小于   n等于）
[root@hadoop106 ~]find /home –size +204800

```



### 找文件内的内容

```
grep+参数+查找内容+源文件
```

> 参数：
>
> －c：只输出匹配行的计数。
>
> －I：不区分大小写(只适用于单字符)。
>
> －h：查询多文件时不显示文件名。
>
> －l：查询多文件时只输出包含匹配字符的文件名。
>
> －n：显示匹配行及行号。
>
> －s：不显示不存在或无匹配文本的错误信息。
>
> －v：显示不包含匹配文本的所有行。

```
ls|grep -n test  #查看且过滤
```

### 搜索命令所在目录及别名信息

```
which 命令
```



## 查看文件内容

*命令cat查看文件内容，从第一行开始显示。*

```
cat 选项 要查看的文件
```

```
选项：
-A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
-E ：将结尾的断行字节 $ 显示出来；
-n ：列出行号，连同空白行也会有行号，与 -b 的选项不同；
-T ：将 [tab] 按键以 ^I 显示出来；
-v ：列出一些看不出来的特殊字符

```

*命令cat查看文件内容，从最后一行开始显示（倒序）。*

```
tac 选项 要查看的文件
```



## 重定向命令

*将某些内容写入文件*

```
（1）ls –l >文件          （功能描述：列表的内容写入文件a.txt中（覆盖写））
（2）ls –al >>文件       （功能描述：列表的内容追加到文件aa.txt的末尾）

eg: ls -l>>t.txt
```



## echo

```
（1）echo 要显示的内容 >> 存储内容的的文件   （功能描述：将要显示的内容，存储到文件中）（配置文件的时候常用）
```

```
（2）echo 变量           （功能描述：显示变量的值）
```



## 查看所敲命令历史

```
history   
```

查看日历















------



#  文件基本属性

​	![image-20210713095145624](C:\Users\HBY\AppData\Roaming\Typora\typora-user-images\image-20210713095145624.png)

属主（该文件的所有者）拥有该文件的权限。

属组（所有者的同组用户）拥有该文件的权限。

其他用户拥有该文件的权限。



## 文件类型



> •      当为[ **d** ]则是目录
>
> •      当为[ **-** ]则是文件；
>
> •      若是[ **l** ]则表示为链接文档(link file)；
>
> •      若是[ **b** ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
>
> •      若是[ **c** ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。



> ​												-rw-r--r--.  1  lisi  devlop  0  jul  12  20:50  test.txt
>
> ​												↑						👆		👆														
>
> ​											文件					创建者     所属组



## 权限命令（**所有使用者**）

```
chmod [-cfvR] [--help] [--version] mode file...
```

> ​		mode : 权限设定字串，格式如下：ugoa...]  [[+-=]  [rwxX]...]  [,...]													

*u 表示该档案的拥有者，g 表示与该档案的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。*

*+表示增加权限、- 表示取消权限、= 表示唯一设定权限。*
 *r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该档案是个子目录或者该档案已经被设定过为可执行。*

### 数字表现权限（二进制）

| 权限   | 英文    | 缩写 | 数学序号 |
| ------ | ------- | ---- | -------- |
| 读     | read    | r    | 4        |
| 写     | write   | w    | 2        |
| 执行   | execute | x    | 1        |
| 无权限 |         | -    | 0        |



```
每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为： [-rwxrwx---] 分数则是：
•	owner = rwx = 4+2+1 = 7
•	group = rwx = 4+2+1 = 7
•	others= --- = 0+0+0 = 0
所以等一下我们设定权限的变更时，该文件的权限数字就是770啦,变更权限的指令chmod的语法是这样的
chmod [-R] xyz 文件或目录
选项与参数：
•	xyz : 就是刚刚提到的数字类型的权限属性，为 rwx 属性数值的相加。
•	-R : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件都会变更
上面的 可以表示如下
chmod  -R 770     档案或目录

```



### 符号表示权限

| u(创建者)         | +（加入） | r    |
| ----------------- | --------- | ---- |
| g（同组用户）     | -（除去） | w    |
| o（其他以外的人） | =（设定） | x    |
| a（所有人）       |           |      |

如果我们需要将文件权限设置为 **-rwxr-xr--** ，可以使用 **chmod u=rwx,g=rx,o=r** **文件名** 来设定:

```
eg:将as.txt的权限设置为-rwxr-xr--
chmod u=rwx,g=rx,o=r  as.txt
给test文件的同组用户添加写权限
chmod g+w test.txt
```





## **改变文档或者目录所有者**

```
chown [最终用户] [文件或目录]        
```

## 改变文件或者目录的所属组

```
chgrp [最终用户组] [文件或目录] 
```



## 压缩和解压缩

```
压缩
	gzip 文件
解压缩
	gunzip 文件.gz
多个文件压缩（可以压缩目录（参数：-r）且保留源文件）
	zip 参数 压缩包名 压缩内容
多个文件解压缩
	unzip 文件.zip
	
```

## 打包

```
tar + 参数 + XXX.tar.gz + 将要打包进去的内容           （功能描述：打包目录，压缩后的文件格式.tar.gz）
```

> 参数：
>
> -c 产生.tar打包文件
>
> -v 显示详细信息
>
> -f 指定压缩后的文件名
>
> -z 打包同时压缩
>
> -x 解包.tar文件
>
> ```
> 打包
> tar -zcvf 包名 要打包的内容
> 解包（可选：解压到指定目录）
> tar -zxvf 包名 （–C /目录名）
> ```

##  软件管理



rpm包管理类似于windows下的“添加/删除程序”

```
安装rpm软件包
rpm -ivh 软件全包名
卸载rpm软件包
rpm -e 软件全包名      
列出所有安装过的包
rpm -qa
查询软件包信息
rpm -qi 软件全包名
查看文件安装位置 
rpm -ql 软件全包名

```

```
yum install -y 软件名
```



## rpm与yum区别

rpm 只能安装已经下载到本地机器上的rpm 包. yum能在线下载并安装rpm包,能更新系统,且还能自动处理包与包之间的依赖问题,这个是rpm 工具所不具备的。

# shell编程

```
需求：创建一个Shell脚本，输出helloworld👇

[seehope@hadoop102 datas]$ touch helloworld.sh
[seehope@hadoop102 datas]$ vi helloworld.sh
 
在helloworld.sh中输入如下内容
#!/bin/bash  
echo "helloworld"

```

```
赋予helloworld.sh 脚本的+x权限：chmod 777 helloworld.sh
```



```
执行语句：    ./hello.sh  或者   sh hello.sh（不用赋予脚本+x权限）
```

## 运算符	

```
（1）“$((运算式))”或“$[运算式]”     eg：S=$[(2+3)*4]
（2）`expr m + n`               eg:  S=`expr 2 + 3`

```

